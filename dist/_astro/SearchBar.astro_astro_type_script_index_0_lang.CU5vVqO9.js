const g="modulepreload",L=function(r){return"/"+r},E={},_=function(l,h,a){let c=Promise.resolve();if(h&&h.length>0){let o=function(s){return Promise.all(s.map(u=>Promise.resolve(u).then(i=>({status:"fulfilled",value:i}),i=>({status:"rejected",reason:i}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),y=n?.nonce||n?.getAttribute("nonce");c=o(h.map(s=>{if(s=L(s),s in E)return;E[s]=!0;const u=s.endsWith(".css"),i=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${i}`))return;const t=document.createElement("link");if(t.rel=u?"stylesheet":g,u||(t.as="script"),t.crossOrigin="",t.href=s,y&&t.setAttribute("nonce",y),document.head.appendChild(t),u)return new Promise((e,d)=>{t.addEventListener("load",e),t.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})}))}function f(o){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=o,window.dispatchEvent(n),!n.defaultPrevented)throw o}return c.then(o=>{for(const n of o||[])n.status==="rejected"&&f(n.reason);return l().catch(f)})};let p;async function w(){if(!p)try{typeof window<"u"&&(p=await _(()=>import("/pagefind/pagefind.js"),[]))}catch(r){return console.warn("Pagefind not available:",r),null}return p}document.addEventListener("DOMContentLoaded",async()=>{const r=document.getElementById("search-input"),l=document.getElementById("search-clear"),h=document.getElementById("search-close"),a=document.getElementById("search-results"),c=document.getElementById("search-results-list"),f=document.querySelector(".search-results__count");if(!r)return;let o,n="";const y=await w();async function s(e){if(!y||!e.trim()){t();return}try{const d=await y.search(e);u(d)}catch(d){console.error("Search error:",d),t()}}async function u(e){if(!e.results||!e.results.length){c&&(c.innerHTML='<div class="search-results__empty">No results found</div>'),f&&(f.textContent="No results"),i();return}f&&(f.textContent=`${e.results.length} result${e.results.length===1?"":"s"}`);const d=await Promise.all(e.results.slice(0,10).map(async m=>{const v=await m.data();return`
            <a href="${v.url}" class="search-result">
              <div class="search-result__title">${v.meta.title||"Untitled"}</div>
              <div class="search-result__excerpt">${v.excerpt}</div>
              <div class="search-result__url">${v.url}</div>
            </a>
          `}));c&&(c.innerHTML=d.join("")),i()}function i(){a&&(a.style.display="block",document.body.classList.add("search-active"))}function t(){a&&(a.style.display="none",document.body.classList.remove("search-active"))}r.addEventListener("input",e=>{const m=e.target.value;n=m,l&&(l.style.display=m?"flex":"none"),clearTimeout(o),o=setTimeout(()=>{n===m&&s(m)},300)}),r.addEventListener("focus",()=>{n&&c&&c.children.length>0&&i()}),l&&l.addEventListener("click",()=>{r.value="",n="",l&&(l.style.display="none"),t(),r.focus()}),h&&h.addEventListener("click",t),document.addEventListener("keydown",e=>{e.key==="Escape"&&t()}),a&&a.addEventListener("click",e=>{e.target===a&&t()})});
